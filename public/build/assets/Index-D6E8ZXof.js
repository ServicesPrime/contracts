import{m as h,p as L,q as M,N as p,s as j,f as d,o as a,a as o,u as s,Z,w as f,c as b,g as $,b as e,e as _,t as u,d as z,x as C,F as y,i as v,z as I,y as P}from"./app-DHKPQ0Ih.js";import{_ as F}from"./CardBox-DaDgPB1c.js";import{_ as U}from"./LayoutMain-CsJ4vM3T.js";import{_ as D}from"./SectionTitleLineWithButton-CR-il7_H.js";import{i as R,M as B,j as T,k as G,L as H}from"./colors-B6DiSbTY.js";import{_ as q}from"./NotificationBar-BNRU8JJe.js";import{_ as k}from"./BaseButton-DpL04PxM.js";import{_ as J}from"./BaseButtons-RlbYvgHa.js";import{d as K,_ as A,C as Q}from"./debounce-BObGq1W9.js";import{P as W,L as X}from"./Pagination-CMdYblr3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutAuthenticated-D6VXQ95G.js";import"./main-CLApKTMv.js";import"./BaseDivider-DSUyGVju.js";import"./BaseLevel-dtYSKltJ.js";const Y={class:"flex flex-col md:flex-row justify-between"},ee={class:"flex w-1/2"},te=["value","textContent"],re={class:"relative w-full mr-1 mb-4"},le={"data-label":"Nombre"},ae={"data-label":"Email"},oe={"data-label":"Rol"},ie={class:"list-disc list-inside"},se={"data-label":"Acciones"},ne={class:"ml-10"},de={class:"vl-parent"},_e={__name:"Index",props:{name:"Index",title:{type:String,required:!0},users:{type:Object,default:()=>({}),required:!0},routeName:{type:String,required:!0},search:{type:String,required:!0},direction:{type:String,required:!0},profiles:{type:Object,default:{},required:!0},profile:{required:!0}},setup(l){const i=l,g=h(i.search),x=h(i.profile),c=h(!1),m=L({filters:{search:g,order:i.users.order??"created_at",direction:i.direction,profile:x??""}});M(g,K(function(n){console.log("triggered"),p.get(route(`${i.routeName}index`,m.filters,{replace:!0}))},500));const S=()=>{c.value=!0,p.get(route(`${i.routeName}index`))},O=(n,t)=>{m.filters.order=n,m.filters.direction=t,c.value=!0,p.get(route(`${i.routeName}index`,m.filters))},w=()=>{c.value=!0,p.get(route(`${i.routeName}index`,m.filters))},N=[{label:"Nombre",key:"name",menu:[{title:"Ordenar desde A - Z ",direction:"asc"},{title:"Ordenar desde Z - A ",direction:"desc"}]},{label:"Email",key:"email",menu:[{title:"Ordenar desde A - Z ",direction:"asc"},{title:"Ordenar desde Z - A ",direction:"desc"}]}];return j("filterBy",O),(n,t)=>(a(),d(y,null,[o(s(Z),{title:l.title},null,8,["title"]),o(U,null,{default:f(()=>[o(D,{icon:s(R),title:l.title,main:""},null,8,["icon","title"]),n.$page.props.flash.success?(a(),b(q,{key:0,color:"success",icon:s(B),outline:!1},{default:f(()=>[_(u(n.$page.props.flash.success),1)]),_:1},8,["icon"])):$("",!0),n.$page.props.flash.error?(a(),b(q,{key:1,color:"danger",icon:s(B),outline:!1},{default:f(()=>[_(u(n.$page.props.flash.error),1)]),_:1},8,["icon"])):$("",!0),e("form",{onSubmit:z(w,["prevent"]),class:"w-full mb-5"},[e("div",Y,[e("div",ee,[C(e("select",{class:"md:h-11 max-xl:mb-4 bg-gray-50 border rounded-l-lg rounded-r-lg md:rounded-r-none border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":t[0]||(t[0]=r=>x.value=r),onChange:w},[t[3]||(t[3]=e("option",{value:"null"},"Seleccione una opciÃ³n",-1)),(a(!0),d(y,null,v(l.profiles,r=>(a(),d("option",{value:r.id,key:r.id,textContent:u(r.name)},null,8,te))),128))],544),[[I,x.value]]),e("div",re,[C(e("input",{type:"search",id:"search-dropdown",class:"block p-2.5 md:h-11 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-l-lg md:rounded-l-none rounded-r-lg md:border-l-gray-300 border-l-gray-300 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-l-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"Ingresa un parametro de busqueda","onUpdate:modelValue":t[1]||(t[1]=r=>g.value=r)},null,512),[[P,g.value]]),o(k,{class:"absolute top-0 right-0 h-full rounded-l-none rounded-r-lg",onClick:S,icon:s(T),color:"info",title:"Limpiar filtro"},null,8,["icon"])])]),o(J,null,{default:f(()=>[o(k,{routeName:`${l.routeName}create`,color:"info",icon:s(G),label:"Agregar usuario",class:"w-full"},null,8,["routeName","icon"])]),_:1})])],32),l.users.data.length>0?(a(),b(F,{key:2},{default:f(()=>[e("table",null,[e("thead",null,[e("tr",null,[t[4]||(t[4]=e("th",null,null,-1)),e("th",null,[o(A,{title:"Nombre",options:N})]),e("th",null,[o(A,{title:"Email",options:N})]),t[5]||(t[5]=e("th",{class:"text-left"},[e("span",{class:"inline-flex w-full gap-x-1.5 rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-md font-bold text-gray-900 dark:text-white ring-inset ring-gray-300 hover:bg-gray-100"}," Rol ")],-1)),t[6]||(t[6]=e("th",{class:"relative inline-block text-left"},[e("span",{class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-md font-bold text-gray-900 dark:text-white ring-inset ring-gray-300 hover:bg-gray-100"}," Acciones ")],-1))])]),e("tbody",null,[(a(!0),d(y,null,v(l.users.data,r=>(a(),d("tr",{key:r.id},[t[7]||(t[7]=e("td",{class:"align-items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-book-half",viewBox:"0 0 16 16"},[e("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})])],-1)),e("td",le,u(r.name),1),e("td",ae,u(r.email),1),e("td",oe,[e("ul",ie,[(a(!0),d(y,null,v(r.roles,(V,E)=>(a(),d("li",{key:E,class:"text-xs"},u(V),1))),128))])]),e("td",se,[e("div",ne,[o(k,{color:"info",icon:s(H),small:"",routeName:`${l.routeName}edit`,parameter:r.id,title:"Editar ("+r.name+")"},null,8,["icon","routeName","parameter","title"])])])]))),128))])])]),_:1})):(a(),b(Q,{key:3})),o(W,{links:l.users.links,total:l.users.total,to:l.users.to,from:l.users.from},null,8,["links","total","to","from"]),e("div",de,[o(s(X),{active:c.value,"onUpdate:active":t[2]||(t[2]=r=>c.value=r),"can-cancel":!1,"is-full-page":!0},null,8,["active"])])]),_:1})],64))}};export{_e as default};
