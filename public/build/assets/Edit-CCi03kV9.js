import{T as p,s as m,f,o as _,a as t,u as o,Z as h,w as a,j as w,b as d,d as C,F as b}from"./app-DHKPQ0Ih.js";import{_ as g}from"./CardBox-DaDgPB1c.js";import{_ as x}from"./LayoutMain-CsJ4vM3T.js";import{_ as B}from"./SectionTitleLineWithButton-CR-il7_H.js";import{L as N,K as $,H as v,n as E}from"./colors-B6DiSbTY.js";import{_ as l}from"./BaseButton-DpL04PxM.js";import{_ as S}from"./BaseButtons-RlbYvgHa.js";import{S as F}from"./sweetalert2.min-U1QkEitf.js";import y from"./DataFormEdit-DVYDLlWh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LayoutAuthenticated-D6VXQ95G.js";import"./main-CLApKTMv.js";import"./BaseDivider-DSUyGVju.js";import"./Button-YSv_oT0q.js";import"./Input-BIfxg4Wh.js";import"./PrimaryButton-Cr5b0ehq.js";import"./InputError-Dmj7c2Cc.js";import"./Pagination-CMdYblr3.js";import"./DangerButton-B16JhZ-F.js";import"./FormControl-CwO7eJmf.js";const U={__name:"Edit",props:{name:"Edit",title:String,user:Object,profiles:Array,permissions:Object,modules:Array,routeName:{type:String,required:!0}},setup(s){const e=s,n=p({id:e.user.id,name:e.user.name,middle_name:e.user.middle_name,last_name:e.user.last_name,mother_last_name:e.user.mother_last_name,phone:e.user.phone,birthdate:e.user.birthdate,email:e.user.email,password:null,profiles:[...e.user.roles.map(r=>({id:r.id,name:r.name,last_name:r.last_name}))],permissions:[...e.user.permissions.map(r=>({id:r.id,name:r.name,last_name:r.last_name}))]}),u=()=>{n.transform(r=>({...r,profiles:r.profiles.map(i=>i.id),permissions:r.permissions.map(i=>i.id)})).put(route(`${e.routeName}update`,e.user.id))},c=()=>{F.fire({title:"¿Esta seguro?",text:"Esta acción no se puede revertir",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#1C64F2",confirmButtonColor:"#E02424",confirmButtonText:"Si!, eliminar registro!"}).then(r=>{r.isConfirmed&&n.delete(route(`${e.routeName}destroy`,e.user.id))})};return m("form",n),m("profiles",e.profiles),m("permissions",e.permissions),m("modules",e.modules),(r,i)=>(_(),f(b,null,[t(o(h),{title:s.title},null,8,["title"]),t(x,null,{default:a(()=>[t(B,{icon:o(N),title:s.title,main:""},{default:a(()=>[t(o(w),{href:r.route(`${s.routeName}index`)},{default:a(()=>i[0]||(i[0]=[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[d("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])),_:1},8,["href"])]),_:1},8,["icon","title"]),t(g,{form:"",onSubmit:C(u,["prevent"])},{footer:a(()=>[t(S,null,{default:a(()=>[t(l,{routeName:`${s.routeName}index`,icon:o($),color:"white",label:"Cancelar"},null,8,["routeName","icon"]),t(l,{onClick:u,icon:o(v),type:"submit",color:"success",label:"Guardar"},null,8,["icon"]),t(l,{color:"danger",icon:o(E),onClick:c,label:"Eliminar"},null,8,["icon"])]),_:1})]),default:a(()=>[t(y)]),_:1})]),_:1})],64))}};export{U as default};
