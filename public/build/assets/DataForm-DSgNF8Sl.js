import{b as j,a as J}from"./LayoutAuthenticated-D6VXQ95G.js";import{v as h,f as m,o as c,b as r,a as f,w as x,e as A,x as _,y as L,d as N,F as k,i as C,H as y,p as D,m as B,h as U,P as E,t as F,n as I,g as O,R}from"./app-DHKPQ0Ih.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as z}from"./SectionTitleLineWithButton-CR-il7_H.js";import{N as H,O as q}from"./colors-B6DiSbTY.js";import{J as Z,a as G}from"./Button-YSv_oT0q.js";import{J as K}from"./Input-BIfxg4Wh.js";import{B as W}from"./PrimaryButton-Cr5b0ehq.js";import{_ as Q}from"./InputError-Dmj7c2Cc.js";import{P as X}from"./Pagination-CMdYblr3.js";import{J as Y}from"./DangerButton-B16JhZ-F.js";import{_ as $}from"./BaseButton-DpL04PxM.js";import{_ as ee}from"./BaseButtons-RlbYvgHa.js";import{a as re,_ as oe}from"./FormControl-CwO7eJmf.js";import"./main-CLApKTMv.js";import"./BaseDivider-DSUyGVju.js";const se={components:{SectionMain:J,LayoutAuthenticated:j,SectionTitleLineWithButton:z,Pagination:X,JetLabel:G,JetInput:K,JetInputError:Q,JetButton:Z,BaseButton:$,BaseButtons:ee,JetDangerButton:Y,Button:W,FormField:oe,FormControl:re},setup(){const p=y("permisos",{}),e=y("modulos",{}),b=y("form"),o=y("disabled",!0),M=t=>b.permisos.some(a=>t.id===a.id),i=D({modulesFilter:[...e],permissionsFilter:{...p}}),n=B("cat"),v=U(()=>n),d=B(""),g=B(""),s=()=>{g.value.trim()!==""?(i.modulesFilter=e.filter(t=>{if(t.nombre.toLowerCase().includes(g.value.toLowerCase()))return t}),i.modulesFilter.length>0&&(n.value=i.modulesFilter[0].key)):i.modulesFilter=e},u=t=>{n.value=t,d.value="",l()},l=()=>{const t=n.value;d.value.trim()!==""?i.permissionsFilter[t]=p[t].filter(a=>a.description.toLowerCase().includes(d.value.toLowerCase())||a.name.toLowerCase().includes(d.value.toLowerCase())):i.permissionsFilter[t]=p[t]},w=()=>{const t=n.value;i.permissionsFilter[t]&&(P(),i.permissionsFilter[t].forEach(a=>b.permisos.push({id:a.id,name:a.name})))},P=()=>{const t=n.value;i.permissionsFilter[t]&&i.permissionsFilter[t].forEach(a=>{const V=b.permisos.findIndex(S=>S.id===a.id);V>-1&&b.permisos.splice(V,1)})};return{disabled:o,mdiCheckAll:q,mdiReplyAll:H,form:b,isChecked:M,...E(i),inputSearchPermission:d,searchPermission:l,addAllPermissions:w,removeAllPermissions:P,changeModule:u,modules:e,searchModule:s,inputSearchModule:g,active:n,getActive:v}}},te={class:"md:flex md:space-x-4 mb-5"},ie={class:"md:w-1/2"},le={class:"md:w-1/2"},ne={class:"md:flex md:space-x-4"},ae={class:"md:w-5/12 p-2 mb-5"},de={class:"mt-2"},me={class:"relative"},ce={class:"mt-4"},ue={class:"flex flex-col space-y-2"},fe=["href","id","onClick","textContent"],pe={class:"md:w-7/12 p-2"},be={class:"mt-2"},ge={class:"mb-5"},ve={class:"relative"},he={class:"mt-5"},ke=["id"],ye={key:0,class:"",style:{"max-height":"25rem","overflow-y":"auto"}},we={class:""},xe=["for"],_e=["value","id","checked"],Ce={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300 truncate"};function Be(p,e,b,o,M,i){const n=h("FormControl"),v=h("FormField"),d=h("BaseButton"),g=h("BaseButtons");return c(),m(k,null,[r("div",te,[r("div",ie,[f(v,{label:"Nombre del rol:",required:!0,error:o.form.errors.name},{default:x(()=>[f(n,{disabled:o.disabled,modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),placeholder:"Nombre de rol"},null,8,["disabled","modelValue"])]),_:1},8,["error"])]),r("div",le,[f(v,{label:"Descripción:",required:!0,error:o.form.errors.description},{default:x(()=>[f(n,{modelValue:o.form.description,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.description=s),placeholder:"Descripción"},null,8,["modelValue"])]),_:1},8,["error"])])]),r("div",ne,[r("div",ae,[e[12]||(e[12]=r("div",{class:"justify-center flex"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})]),A(" Módulos disponibles ")],-1)),r("div",de,[r("div",me,[e[11]||(e[11]=r("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[r("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[r("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),_(r("input",{type:"search",id:"default-search",class:"block w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500","onUpdate:modelValue":e[2]||(e[2]=s=>o.inputSearchModule=s),placeholder:"Enter a search parameter",onChange:e[3]||(e[3]=(...s)=>o.searchModule&&o.searchModule(...s))},null,544),[[L,o.inputSearchModule]]),r("button",{type:"submit",class:"hidden md:inline-block text-white absolute right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[4]||(e[4]=N((...s)=>o.searchModule&&o.searchModule(...s),["prevent"]))}," Buscar ")])]),r("div",ce,[r("div",ue,[(c(!0),m(k,null,C(p.modulesFilter,(s,u)=>(c(),m("a",{key:u,href:`#${s.key}`,id:`pill-${s.key}`,onClick:l=>o.changeModule(s.key),class:I(["text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",{active:s.key===o.active}]),role:"tab","aria-controls":"module.key","aria-selected":"true",textContent:F(s.name)},null,10,fe))),128))])])]),r("div",pe,[e[15]||(e[15]=r("div",{class:"justify-center flex"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})]),A(" Permisos disponibles ")],-1)),r("div",be,[r("div",ge,[f(g,{type:"justify-start","no-wrap":""},{default:x(()=>[f(d,{color:"info",icon:o.mdiCheckAll,small:"",label:"TODOS",onClick:e[5]||(e[5]=s=>o.addAllPermissions())},null,8,["icon"]),f(d,{color:"danger",icon:o.mdiReplyAll,small:"",label:"NINGUNO",onClick:e[6]||(e[6]=s=>o.removeAllPermissions())},null,8,["icon"])]),_:1})]),r("div",ve,[e[13]||(e[13]=r("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[r("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[r("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),_(r("input",{type:"search",class:"block w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"search-module","onUpdate:modelValue":e[7]||(e[7]=s=>o.inputSearchPermission=s),placeholder:"Buscar permisos",onKeyup:e[8]||(e[8]=(...s)=>o.searchPermission&&o.searchPermission(...s))},null,544),[[L,o.inputSearchPermission]]),r("button",{type:"submit",class:"hidden md:inline-block text-white absolute right-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[9]||(e[9]=N((...s)=>o.searchPermission&&o.searchPermission(...s),["prevent"]))}," Buscar")])]),r("div",he,[(c(!0),m(k,null,C(p.permissionsFilter,(s,u)=>(c(),m("div",{class:"ml-5",id:u,key:u},[o.getActive.value===u?(c(),m("div",ye,[(c(!0),m(k,null,C(s,l=>(c(),m("div",{class:"",style:{"word-break":"break-all"},key:l.id},[r("div",we,[r("label",{class:"relative inline-flex items-center mb-5 cursor-pointer",for:l.name},[_(r("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":e[10]||(e[10]=w=>o.form.permisos=w),value:{id:l.id,name:l.name},id:l.name,checked:o.isChecked(l)},null,8,_e),[[R,o.form.permisos]]),e[14]||(e[14]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r("span",Ce,F(l.name)+" - "+F(l.description),1)],8,xe)])]))),128))])):O("",!0)],8,ke))),128))])])])],64)}const Te=T(se,[["render",Be],["__scopeId","data-v-5aa3c517"]]);export{Te as default};
