import{m as f,h as S,c as C,o,w as N,b as e,f as r,g as u,d as T,x as p,z as $,t as i,y as b,F as g,i as x,n as B,N as h}from"./app-DHKPQ0Ih.js";import{_ as D}from"./LayoutMain-CsJ4vM3T.js";import"./LayoutAuthenticated-D6VXQ95G.js";import"./colors-B6DiSbTY.js";import"./main-CLApKTMv.js";import"./BaseDivider-DSUyGVju.js";const M={class:"p-6"},V={class:"bg-white shadow-md rounded p-6"},j={class:"mb-4"},U={key:0,class:"text-red-600 text-sm mt-1"},q={class:"mb-4"},A={for:"service",class:"block text-sm font-medium text-gray-700 mb-2"},E=["placeholder"],F={key:0,class:"text-red-600 text-sm mt-1"},P={class:"mb-6"},z={class:"flex justify-between items-center mb-3"},L={class:"block text-sm font-medium text-gray-700"},H={class:"space-y-3"},O={key:0,class:"text-gray-500 italic text-sm"},R={class:"flex-1"},G=["onUpdate:modelValue","placeholder"],I={key:0,class:"text-red-600 text-sm mt-1"},J=["onClick","title"],K={class:"flex justify-end space-x-3"},Q=["disabled"],W={key:0,class:"bg-gray-50 shadow-md rounded p-6 mt-6"},X={class:"bg-white rounded p-4"},Y={class:"mb-2"},Z={class:"mb-2"},ee={class:"text-sm font-medium text-gray-700"},te={class:"ml-2 font-medium"},se={class:"text-sm font-medium text-gray-700"},ie={key:0,class:"mt-1"},oe={class:"list-disc list-inside space-y-1"},re={key:1,class:"ml-2 text-gray-400 italic text-sm"},pe={__name:"Create",props:{errors:Object},setup(c){const d=f(!1),t=f({type:"",service:"",specifications:[]}),m=S(()=>t.value.specifications.filter(n=>n.description&&n.description.trim()!=="")),v=()=>{h.visit(route("services.index"))},_=()=>{t.value.specifications.push({description:""})},k=n=>{t.value.specifications.splice(n,1)},w=()=>{const n=t.value.specifications.filter(s=>s.description&&s.description.trim()!=="");d.value=!0,h.post(route("services.store"),{type:t.value.type,service:t.value.service,specifications:n},{onSuccess:()=>{d.value=!1},onError:s=>{console.error("Error creating service:",s),d.value=!1},onFinish:()=>{d.value=!1}})};return(n,s)=>(o(),C(D,null,{default:N(()=>[e("div",M,[e("div",{class:"flex items-center mb-4"},[e("button",{onClick:v,class:"mr-4 text-gray-600 hover:text-gray-800"},s[2]||(s[2]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),s[3]||(s[3]=e("h1",{class:"text-2xl font-bold"},"Create New Service",-1))]),e("div",V,[e("form",{onSubmit:T(w,["prevent"])},[e("div",j,[s[5]||(s[5]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-2"}," Type * ",-1)),p(e("select",{id:"type","onUpdate:modelValue":s[0]||(s[0]=a=>t.value.type=a),required:"",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},s[4]||(s[4]=[e("option",{value:""},"Select type...",-1),e("option",{value:"service"},"Service",-1),e("option",{value:"terms"},"Terms & Conditions",-1)]),512),[[$,t.value.type]]),c.errors.type?(o(),r("div",U,i(c.errors.type),1)):u("",!0)]),e("div",q,[e("label",A,i(t.value.type==="terms"?"Terms & Conditions Name":"Service Name")+" * ",1),p(e("input",{id:"service","onUpdate:modelValue":s[1]||(s[1]=a=>t.value.service=a),type:"text",required:"",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:t.value.type==="terms"?"e.g., Payment Terms, Cancellation Policy":"e.g., Cleaning Services, Maintenance Services"},null,8,E),[[b,t.value.service]]),c.errors.service?(o(),r("div",F,i(c.errors.service),1)):u("",!0)]),e("div",P,[e("div",z,[e("label",L,i(t.value.type==="terms"?"Terms Details":"Service Specifications"),1),e("button",{onClick:_,type:"button",class:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition"}," + Add "+i(t.value.type==="terms"?"Detail":"Specification"),1)]),e("div",H,[t.value.specifications.length===0?(o(),r("div",O," No "+i(t.value.type==="terms"?"details":"specifications")+' added yet. Click "Add '+i(t.value.type==="terms"?"Detail":"Specification")+'" to add some. ',1)):u("",!0),(o(!0),r(g,null,x(t.value.specifications,(a,l)=>(o(),r("div",{key:l,class:"flex gap-2 items-center"},[e("div",R,[p(e("input",{"onUpdate:modelValue":y=>a.description=y,type:"text",required:"",class:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:t.value.type==="terms"?`Detail ${l+1} description`:`Specification ${l+1} description`},null,8,G),[[b,a.description]]),c.errors[`specifications.${l}.description`]?(o(),r("div",I,i(c.errors[`specifications.${l}.description`]),1)):u("",!0)]),e("button",{onClick:y=>k(l),type:"button",class:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 transition",title:`Remove ${t.value.type==="terms"?"detail":"specification"}`},s[6]||(s[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,J)]))),128))])]),e("div",K,[e("button",{onClick:v,type:"button",class:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition"}," Cancel "),e("button",{type:"submit",disabled:d.value,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition disabled:bg-blue-300"},i(d.value?"Creating...":`Create ${t.value.type==="terms"?"Terms":"Service"}`),9,Q)])],32)]),t.value.type&&(t.value.service||t.value.specifications.length>0)?(o(),r("div",W,[s[8]||(s[8]=e("h3",{class:"text-lg font-medium text-gray-900 mb-3"},"Preview",-1)),e("div",X,[e("div",Y,[s[7]||(s[7]=e("span",{class:"text-sm font-medium text-gray-700"},"Type:",-1)),e("span",{class:B([t.value.type==="service"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800","ml-2 px-2 py-1 rounded text-xs font-medium"])},i(t.value.type==="service"?"Service":"Terms & Conditions"),3)]),e("div",Z,[e("span",ee,i(t.value.type==="terms"?"Terms Name:":"Service Name:"),1),e("span",te,i(t.value.service||"Not specified"),1)]),e("div",null,[e("span",se,i(t.value.type==="terms"?"Details:":"Specifications:"),1),m.value.length>0?(o(),r("div",ie,[e("ul",oe,[(o(!0),r(g,null,x(m.value,(a,l)=>(o(),r("li",{key:l,class:"text-sm text-gray-700"},i(a.description),1))),128))])])):(o(),r("span",re,"No "+i(t.value.type==="terms"?"details":"specifications"),1))])])])):u("",!0)])]),_:1}))}};export{pe as default};
