import{T as v,h as y,f,o as w,b as o,a as t,x as h,w as l,u as s,K as x,G as V,n as S,g as k,J as N,d as A}from"./app-DHKPQ0Ih.js";import{e as i,H as U}from"./colors-B6DiSbTY.js";import{a as d,_ as c}from"./FormControl-CwO7eJmf.js";import{_ as $}from"./BaseButton-DpL04PxM.js";import"./main-CLApKTMv.js";const z={class:"mb-5"},G={class:"h-2.5 bg-gray-200 w-1/6 rounded-lg mt-1 border border-black"},q={class:"flex items-center gap-4"},B={key:0,class:"text-sm text-gray-600"},F={__name:"UpdatePasswordForm",setup(E){const e=v({current_password:null,password:null,password_confirmation:null}),u=()=>{e.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>e.reset(),onError:()=>{e.errors.password&&e.reset("password","password_confirmation"),e.errors.current_password&&e.reset("current_password")}})},p=y(()=>{const n=String(e.password);let r=0,a="",m="";n.length>=8&&(r+=1);const _=/[A-Z]/.test(n),g=/[a-z]/.test(n),b=/[0-9]/.test(n),C=/[!@#$%^&*(),.?":{}|<>]/.test(n);return _&&(r+=1),g&&(r+=1),b&&(r+=1),C&&(r+=1),r<3?a="bg-red-500":r===3?a="bg-yellow-500":a="bg-green-500",m=`${r/5*100}%`,{barColor:a,barWidth:m}});return(n,r)=>(w(),f("section",null,[r[3]||(r[3]=o("header",null,[o("h2",{class:"text-lg font-medium text-gray-900 dark:text-slate-100"},"Actualizar contraseña"),o("p",{class:"mt-1 text-sm text-gray-600 dark:text-slate-400"}," Asegúrese de que su cuenta utilice una contraseña larga y aleatoria para mantenerse segura. ")],-1)),o("form",{onSubmit:A(u,["prevent"]),class:"mt-6 space-y-6"},[t(c,{label:"Contraseña Antigüa:",error:s(e).errors.current_password},{default:l(()=>[t(d,{modelValue:s(e).current_password,"onUpdate:modelValue":r[0]||(r[0]=a=>s(e).current_password=a),icon:s(i),type:"password",required:"",placeholder:"Contraseña Antigüa"},null,8,["modelValue","icon"])]),_:1},8,["error"]),t(c,{label:"Contraseña Nueva:",error:s(e).errors.password},{default:l(()=>[t(d,{modelValue:s(e).password,"onUpdate:modelValue":r[1]||(r[1]=a=>s(e).password=a),icon:s(i),placeholder:"Contraseña Nueva",type:"password"},null,8,["modelValue","icon"])]),_:1},8,["error"]),h(o("div",z,[o("div",G,[o("div",{class:S([p.value.barColor,"h-2 rounded-lg"]),style:V({width:p.value.barWidth})},null,6)])],512),[[x,s(e).password!=null]]),t(c,{label:"Contraseña Confirmación:",error:s(e).errors.password_confirmation},{default:l(()=>[t(d,{modelValue:s(e).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=a=>s(e).password_confirmation=a),icon:s(i),type:"password",placeholder:"Contraseña Confirmación",required:""},null,8,["modelValue","icon"])]),_:1},8,["error"]),o("div",q,[t($,{title:"Guardar",onClick:u,icon:s(U),color:"success",label:"Guardar"},null,8,["icon"]),t(N,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:l(()=>[s(e).recentlySuccessful?(w(),f("p",B,"Guardado.")):k("",!0)]),_:1})])],32)]))}};export{F as default};
